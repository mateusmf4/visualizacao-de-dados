<!--
  THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=line-smooth&code=PYBwLglsB2AEC8sDeAoWsAeBBDEDOAXMmurGAJ4gCmRA5AMYCGYVA5sAE7m0A0J6AE2aMiAbVoBZGL1i0AKgFcqM2gHUqAlXIAWClQDEOEFQGVmphdFoBdEgF8-6cjnxFUpMpRqyAbowA2SrT2jrB4VEZUhLCi_MQegsJiABwATAAMPLAAnADMqVnZ6QCMhbkALFnFqUVVubmZsMX56dahHhTUdP4Q0MrtpHgAtsDAYNpEYBxKcXYktnYA3EA
  ⚠ Please be aware that this chart is not an official demo of Apache ECharts but is made by user-generated code.
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0; padding: 50px">
  <div id="container" style="height: calc(100% - 50px);"></div>

  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

  <script type="text/javascript">
    let myChart = echarts.init(document.getElementById('container'), null, {
      renderer: 'canvas',
      useDirtyRect: false
    });

    // 0    1               2                    3
    // ano, total_chuva_mm, dias_chuva_mais_5mm, dias_chuva_mais_10mm
    let data = [
      [2013, 280.0, 14, 9],
      [2014, 404.6, 18, 15],
      [2015, 386.7, 16, 9],
      [2016, 295.0, 17, 10],
      [2017, 211.5, 11, 5],
      [2018, 764.8, 28, 21],
      [2019, 497.9, 25, 16],
      [2020, 591.3, 19, 11],
      [2021, 388.5, 19, 11],
      [2022, 938.6, 37, 24],
      [2023, 465.6, 18, 16],
      [2024, 378.2, 21, 14],
      [2025, 489.1, 27, 17]
    ];

    let diff = data.map((x, i) => i === 0 ? 0 : x[1] - data[i - 1][1]);
    diff = diff.slice(2);
    data = data.slice(2);

    const positive = diff.map(x => x >= 0 ? x : '-');
    const negative = diff.map(x => x < 0 ? x : '-');
    
    let option = {
      xAxis: {
        type: 'category',
        data: data.map(x => x[0])
      },
      yAxis: {
        type: 'value',
        name: 'Diferença de chuva (mm)',
      },
      series: [
        {
          name: "Diferença de chuva positiva (mm)",
          data: positive,
          type: 'bar',
          stack: 'all',
          itemStyle: {
            color: "#63a7cf"
          },
        },
        {
          name: "Diferença de chuva negativa (mm)",
          data: negative,
          type: 'bar',
          stack: 'all',
          itemStyle: {
            color: "#577abd"
          },
        }
      ],
      tooltip: {},
      legend: {
        bottom: 15
      },
      title: {
        text: "Diferença da chuva acumulada na Fazenda Carnaúba em relação ao ano anterior (entre 2015 e 2024)",
        left: "center",
      },
      dataZoom: [
        {
          type: 'inside'
        }
      ],
    };
    myChart.setOption(option);

    window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>